CREATE TABLE IF NOT EXISTS users (
  id BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
  name VARCHAR(255) NOT NULL,
  email VARCHAR(512) NOT NULL,
  CONSTRAINT pk_user PRIMARY KEY (id),
  CONSTRAINT UQ_USER_EMAIL UNIQUE (email)
);
CREATE TABLE IF NOT EXISTS items(
  id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  name VARCHAR(255) NOT NULL,
  description VARCHAR(512),
  available BOOLEAN,
  owner BIGINT REFERENCES users ON DELETE CASCADE,
  request BIGINT
);
CREATE TABLE IF NOT EXISTS bookings(
    id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    start TIMESTAMP WITHOUT TIME ZONE,
    stop TIMESTAMP WITHOUT TIME ZONE,
    item_id BIGINT REFERENCES items ON DELETE CASCADE,
    user_id BIGINT REFERENCES users ON DELETE CASCADE,
    status VARCHAR(10)
);
CREATE TABLE IF NOT EXISTS comments(
    id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    item_id BIGINT REFERENCES items ON DELETE CASCADE,
    comment VARCHAR (255),
    created TIMESTAMP WITHOUT TIME ZONE
);
CREATE TABLE IF NOT EXISTS requests(
    id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    description VARCHAR(255),
    requestor BIGINT REFERENCES users ON DELETE CASCADE,
    created TIMESTAMP WITHOUT TIME ZONE
);